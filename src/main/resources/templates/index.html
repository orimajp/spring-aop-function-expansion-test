<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>
<body>
<div class="container">
    <nav class="navbar bg-body-tertiary">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">Extension sample using delegation and reflection</span>
        </div>
    </nav>
    <div class="mt-3">
        <div class="card">
            <div class="card-header">
                Bird
            </div>
            <div class="card-body">
                <div class="card mb-3">
                    <div class="card-header">
                        Q1. Are you Bird ?
                    </div>
                    <div class="card-body">
                        A1. <span id="ba-1">loading...</span>
                    </div>
                </div>
                <div class="card mb-3">
                    <div class="card-header">
                        Q2. Do you like to fly ?
                    </div>
                    <div class="card-body">
                        A2. <span id="ba-2">loading...</span>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        Q3. Do you like to swimming ?
                    </div>
                    <div class="card-body">
                        A3. <span id="ba-3">loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-3">
        <div class="card">
            <div class="card-header">
                Penguin
            </div>
            <div class="card-body">
                <div class="card mb-3">
                    <div class="card-header">
                        Q1. Are you Bird ?
                    </div>
                    <div class="card-body">
                        A1. <span id="pa-1">loading...</span>
                    </div>
                </div>
                <div class="card mb-3">
                    <div class="card-header">
                        Q2. Do you like to fly ?
                    </div>
                    <div class="card-body">
                        A2. <span id="pa-2">loading...</span>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        Q3. Do you like to swimming ?
                    </div>
                    <div class="card-body">
                        A3. <span id="pa-3">loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
<script>
    const fetchQuestion = async (question, name, id) => {
        const response =  await fetch(`api/${question}/${name}`)
        if (!response.ok) {
            throw new Error(`レスポンスステータス: ${response.status}`)
        }
        document.getElementById(id).innerHTML = await response.text()
    }

    (async () => {
        // Bird
        await fetchQuestion('question1', 'bird' ,'ba-1')
        await fetchQuestion('question2', 'bird' ,'ba-2')
        await fetchQuestion('question3', 'bird' ,'ba-3')
        // Penguin
        await fetchQuestion('question1', 'penguin' ,'pa-1')
        await fetchQuestion('question2', 'penguin' ,'pa-2')
        await fetchQuestion('question3', 'penguin' ,'pa-3')
    })()
</script>
</body>
</html>
